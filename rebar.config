{erl_opts, [
    debug_info,
    {platform_define, "^R", pre17},
    {parse_transform, lager_transform},
    verbose
]}.

{relx, [{release, {zugotestapp, "0.1.0"},
         [zugotestapp,
          {observer, load},      %% Allow live debugging of server
          {wx, load},            %% Required by observer
          {runtime_tools, load}]}, %% Required by observer

        {dev_mode, true},
        {include_erts, false},

        {extended_start_script, true}]

}.

%% irccloud/erlang-syslog overrides lager_syslog's dependency on 
%% Vagabond/erlang-syslog for compile support as the former has a reber3 config
{deps, [
    {syslog,  {git, "https://github.com/irccloud/erlang-syslog", {ref, "7de53f0c75"}}},
    {erlport, {git, "https://github.com/hdima/erlport.git", {ref, "4041c0810f798cba9fa528ebca90556f0ae50645"}}},
    {poolboy, {git, "https://github.com/devinus/poolboy.git", {tag, "1.5.1"}}},
    {lager,   {git, "https://github.com/basho/lager.git", {tag, "2.1.1"}}},
    {lager_syslog, {git, "https://github.com/basho/lager_syslog.git", {tag, "2.1.1"}}}
]
}.
{eunit_opts, []}.
{cover_enabled, true}.
